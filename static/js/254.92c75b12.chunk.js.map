{"version":3,"file":"static/js/254.92c75b12.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.jsx","components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","pages/Movies.jsx","services/fetchAPI.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ListItem = styled.li`\n    display: flex;\n    align-items: center;\n    padding-left: 16px;\n    margin-bottom: 8px;\n`;","import { Link } from 'react-router-dom';\nimport { TbMovie } from 'react-icons/tb';\nimport { ListItem } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ movies, location }) => {\n\n  return (\n    <ul>\n      {movies.map(movie => (\n        <ListItem key={movie.id}>\n          <TbMovie style={{ paddingRight: 8 }} />\n          <Link\n            to={`${movie.id}`}\n            state={{from: location}}\n            style={{\n              textDecoration: 'none',\n              color: '#08213d',\n              display: 'inline-flex',\n              alignItems: 'center',\n            }}\n          >\n            <p>{movie.original_title}</p>\n          </Link>\n        </ListItem>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n    margin-top: 32px;\n    margin-bottom: 32px\n`;\n\nexport const Input = styled.input`\n    outline: none;\n`;","import PropTypes from 'prop-types';\nimport { Form, Input } from './SearchBox.styled';\n\nexport const SearchBox = ({ name, onChange, onSubmit }) => {\n  return (\n    <Form onSubmit={onSubmit}>\n      <Input\n        type=\"text\"\n        placeholder=\"Please enter movie\"\n        value={name}\n        onChange={e => onChange(e.target.value)}\n      />\n      <button type=\"submit\">Search</button>\n    </Form>\n  );\n};\n\nSearchBox.propTypes = {\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { getMovieQuery } from 'services/fetchAPI';\nimport { SearchBox } from 'components/SearchBox/SearchBox';\n\nconst Movies = () => {\n  const [visibleMovies, setVisibleMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('query') ?? '';\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!name) return;\n    getMovieQuery(name)\n      .then(data => {\n        setVisibleMovies(data.results);\n      })\n      .catch(error => console.log(error));\n  }, [name]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    getMovieQuery(name)\n      .then(data => {\n        setVisibleMovies(data.results);\n      })\n      .catch(error => console.log(error));\n    // setSearchParams({});\n  };\n\n  const changeFilter = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <main>\n      <SearchBox\n        name={name}\n        onChange={changeFilter}\n        onSubmit={handleSubmit}\n      />\n      <MoviesList movies={visibleMovies} location={location} />\n    </main>\n  );\n};\n\nexport default Movies;\n","const API_KEY = '1b8e17a420c442be5859016e939643f4';\n\nexport const getMoviesTrending = () => {\n  const urlMoviesTrending = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`;\n  return fetch(urlMoviesTrending).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getMovieInfo = id => {\n  const urlMovieInfo = `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`;\n  return fetch(urlMovieInfo).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getMovieCast = id => {\n  const movieCast = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n  return fetch(movieCast).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getMovieReviews = id => {\n  const urlMovieReviews = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n  return fetch(urlMovieReviews).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nexport const getMovieQuery = query => {\n  const urlMovieQuery = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`;\n  return fetch(urlMovieQuery).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n"],"names":["ListItem","styled","MoviesList","movies","location","map","movie","style","paddingRight","to","id","state","from","textDecoration","color","display","alignItems","original_title","Form","Input","SearchBox","name","onChange","onSubmit","type","placeholder","value","e","target","useState","visibleMovies","setVisibleMovies","useSearchParams","searchParams","setSearchParams","get","useLocation","useEffect","getMovieQuery","then","data","results","catch","error","console","log","query","preventDefault","API_KEY","getMoviesTrending","urlMoviesTrending","fetch","response","ok","Error","status","json","getMovieInfo","urlMovieInfo","getMovieCast","movieCast","getMovieReviews","urlMovieReviews","urlMovieQuery"],"sourceRoot":""}